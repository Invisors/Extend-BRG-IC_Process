{"flowVersion":"3.0.0","_type":"Flow","_value":{"id":{"_type":"String","_value":"ad9edec7fc314c3a82e423ff8a4e43a4"},"name":{"_type":"Identifier","_value":"GetReferences"},"type":{"_type":"FlowType","_value":".maya.FlowSync"},"start":{"_type":"StartBasic","_value":{"structuredRequest":{"_type":["Opt","RequestStructure"],"_value":null},"hasMultipartData":{"_type":"Boolean","_value":false},"notes":{"_type":["List","Note"],"_value":[]}}},"end":{"_type":"EndSync","_value":{"headers":{"_type":["List","Header"],"_value":[]},"body":{"_type":["Opt","DataRefBody"],"_value":{"_type":"DataRefBody","_value":{"dataRef":{"_type":["Expr","Data"],"_value":{"type":{"_type":"Type","_value":"Data"},"source":{"_type":"String","_value":"data.CreateTextTemplate.message"},"isAuto":{"_type":"Boolean","_value":false}}},"contentType":{"_type":["Opt","String"],"_value":null}}}},"notes":{"_type":["List","Note"],"_value":[{"_type":"Note","_value":{"key":{"_type":"String","_value":"description"},"value":{"_type":"String","_value":""}}}]}}},"nodes":{"_type":["List","Node"],"_value":[{"_type":"CreateValues","_value":{"name":{"_type":"Identifier","_value":"CreateControls"},"isDisabled":{"_type":"Boolean","_value":false},"errorHandler":{"_type":["Opt","ErrorHandler"],"_value":null},"values":{"_type":["List","Assignment"],"_value":[{"_type":"Assignment","_value":{"param":{"_type":"Parameter","_value":{"name":{"_type":"Identifier","_value":"instanceListQuery"},"type":{"_type":"Type","_value":["List","String"]},"default":{"_type":["Opt","Any"],"_value":null}}},"expr":{"_type":["Expr",["List","String"]],"_value":{"type":{"_type":"Type","_value":["List","String"]},"source":{"_type":"String","_value":"data(\"start\", \"queryParams\").getParam(\"instanceListQuery\", \" \").urlDecode().split(\" \")"},"isAuto":{"_type":"Boolean","_value":false}}}}},{"_type":"Assignment","_value":{"param":{"_type":"Parameter","_value":{"name":{"_type":"Identifier","_value":"referenceIdType"},"type":{"_type":"Type","_value":"String"},"default":{"_type":["Opt","Any"],"_value":null}}},"expr":{"_type":["Expr","String"],"_value":{"type":{"_type":"Type","_value":"String"},"source":{"_type":"String","_value":"data(\"start\", \"queryParams\").getParam(\"type\", \"Field_Of_Study_ID\")"},"isAuto":{"_type":"Boolean","_value":false}}}}},{"_type":"Assignment","_value":{"param":{"_type":"Parameter","_value":{"name":{"_type":"Identifier","_value":"referenceIdXpath"},"type":{"_type":"Type","_value":"String"},"default":{"_type":["Opt","Any"],"_value":null}}},"expr":{"_type":["Expr","String"],"_value":{"type":{"_type":"Type","_value":"String"},"source":{"_type":"String","_value":"s\"${\"/wd:Reference_ID/wd:Reference_ID_Reference/wd:ID[@wd:type='\"}${data(\"CreateControls\", \"referenceIdType\")}${\"']\"}\""},"isAuto":{"_type":"Boolean","_value":false}}}}}]},"notes":{"_type":["List","Note"],"_value":[{"_type":"Note","_value":{"key":{"_type":"String","_value":"description"},"value":{"_type":"String","_value":""}}}]}}},{"_type":"SendWwsPaginationApiRequest","_value":{"name":{"_type":"Identifier","_value":"fieldsXML"},"isDisabled":{"_type":"Boolean","_value":false},"errorHandler":{"_type":["Opt","ErrorHandler"],"_value":null},"request":{"_type":["Opt","CreateXmlTextTemplateRequestBody"],"_value":{"_type":"CreateXmlTextTemplateRequestBody","_value":{"message":{"_type":"TextTemplate","_value":"<bsvc:Get_References_Request bsvc:version=\"v39.0\" xmlns:bsvc=\"urn:com.workday/bsvc\">  \r\n  <bsvc:Request_Criteria>\r\n    <bsvc:Reference_ID_Type>{{data.CreateControls.referenceIdType}}</bsvc:Reference_ID_Type>\r\n    <bsvc:Include_Defaulted_Values_Only>false</bsvc:Include_Defaulted_Values_Only>\r\n  </bsvc:Request_Criteria>\r\n  <bsvc:Response_Filter>   \r\n    <bsvc:Page>1</bsvc:Page>\r\n    <bsvc:Count>999</bsvc:Count>\r\n  </bsvc:Response_Filter>\r\n</bsvc:Get_References_Request>"}}}},"service":{"_type":"String","_value":"Integrations"},"wwsVersion":{"_type":["Expr","Number"],"_value":{"type":{"_type":"Type","_value":"Number"},"source":{"_type":"String","_value":"39.0"},"isAuto":{"_type":"Boolean","_value":false}}},"includeInvalidReferenceResponses":{"_type":["Expr","Boolean"],"_value":{"type":{"_type":"Type","_value":"Boolean"},"source":{"_type":"String","_value":"false"},"isAuto":{"_type":"Boolean","_value":false}}},"auth":{"_type":"WorkdayCredentialRef","_value":{"resourceName":{"_type":"String","_value":"_DEFAULT_WORKDAY_CREDENTIAL"}}},"responseTimeoutMs":{"_type":"Long","_value":20000},"connectTimeoutMs":{"_type":"Long","_value":20000},"overallTimeoutMs":{"_type":"Long","_value":300000},"retryConfigRef":{"_type":"RetryConfigRef","_value":"ConfigKey_1"},"notes":{"_type":["List","Note"],"_value":[{"_type":"Note","_value":{"key":{"_type":"String","_value":"description"},"value":{"_type":"String","_value":""}}}]}}},{"_type":"Loop","_value":{"name":{"_type":"Identifier","_value":"Loop"},"isDisabled":{"_type":"Boolean","_value":false},"errorHandler":{"_type":["Opt","ErrorHandler"],"_value":null},"inputData":{"_type":["Expr",["Iterator",["Opt","Any"]]],"_value":{"type":{"_type":"Type","_value":["Iterator",["Xml",{"_type":["Opt","XmlSchemaRef"],"_value":null}]]},"source":{"_type":"String","_value":"data(\"fieldsXML\", \"iterator\")"},"isAuto":{"_type":"Boolean","_value":false}}},"filter":{"_type":["Opt",["Expr","Boolean"]],"_value":null},"aggregateNode":{"_type":["Opt","Aggregate"],"_value":{"_type":"Aggregate","_value":{"name":{"_type":"Identifier","_value":"AGGREGATE"},"isDisabled":{"_type":"Boolean","_value":false},"failOnEmptyStream":{"_type":"Boolean","_value":false},"foldValues":{"_type":["List","FoldValue"],"_value":[{"_type":"JsonFoldValue","_value":{"nameProp":{"_type":"Identifier","_value":"matches"},"data":{"_type":["Expr",["Json",{"_type":["Opt","JsonSchemaRef"],"_value":null}]],"_value":{"type":{"_type":"Type","_value":["Json",{"_type":["Opt","JsonSchemaRef"],"_value":null}]},"source":{"_type":"String","_value":"data(\"ReferenceJSON\",\"data\")"},"isAuto":{"_type":"Boolean","_value":false}}},"condition":{"_type":["Opt",["Expr","Boolean"]],"_value":{"_type":["Expr","Boolean"],"_value":{"type":{"_type":"Type","_value":"Boolean"},"source":{"_type":"String","_value":"if ((data(\"Loop_1\",\"matches\") == data(\"CreateControls\",\"instanceListQuery\").size())) true else false"},"isAuto":{"_type":"Boolean","_value":false}}}}}}]},"notes":{"_type":["List","Note"],"_value":[{"_type":"Note","_value":{"key":{"_type":"String","_value":"description"},"value":{"_type":"String","_value":""}}}]}}}},"earlyStopCondition":{"_type":["Opt","EarlyStopCondition"],"_value":null},"sorts":{"_type":["List","SortedBy"],"_value":[{"_type":"SortedBy","_value":{"value":{"_type":["Expr","String"],"_value":{"type":{"_type":"Type","_value":"String"},"source":{"_type":"String","_value":"data.Loop.item.stringAtXPathWithDefault(\"/wd:Reference_ID/wd:Reference_ID_Data/wd:Referenced_Object_Descriptor\",emptyString())"},"isAuto":{"_type":"Boolean","_value":true}}},"descending":{"_type":"Boolean","_value":false}}}]},"locale":{"_type":["Opt","Locale"],"_value":null},"group":{"_type":"ImplicitGroup","_value":{"name":{"_type":"Identifier","_value":"_group_Loop"},"isDisabled":{"_type":"Boolean","_value":false},"errorHandler":{"_type":["Opt","ErrorHandler"],"_value":null},"nodes":{"_type":["List","Node"],"_value":[{"_type":"CreateValues","_value":{"name":{"_type":"Identifier","_value":"ReferenceValues"},"isDisabled":{"_type":"Boolean","_value":false},"errorHandler":{"_type":["Opt","ErrorHandler"],"_value":null},"values":{"_type":["List","Assignment"],"_value":[{"_type":"Assignment","_value":{"param":{"_type":"Parameter","_value":{"name":{"_type":"Identifier","_value":"id"},"type":{"_type":"Type","_value":"String"},"default":{"_type":["Opt","Any"],"_value":null}}},"expr":{"_type":["Expr","String"],"_value":{"type":{"_type":"Type","_value":"String"},"source":{"_type":"String","_value":"data(\"Loop\", \"item\").stringAtXPathWithDefault(\"/wd:Reference_ID/wd:Reference_ID_Reference/wd:ID[@wd:type='WID']\", emptyString())"},"isAuto":{"_type":"Boolean","_value":false}}}}},{"_type":"Assignment","_value":{"param":{"_type":"Parameter","_value":{"name":{"_type":"Identifier","_value":"referenceID"},"type":{"_type":"Type","_value":"String"},"default":{"_type":["Opt","Any"],"_value":null}}},"expr":{"_type":["Expr","String"],"_value":{"type":{"_type":"Type","_value":"String"},"source":{"_type":"String","_value":"data(\"Loop\", \"item\").stringAtXPathWithDefault(data(\"CreateControls\", \"referenceIdXpath\"), emptyString())"},"isAuto":{"_type":"Boolean","_value":false}}}}},{"_type":"Assignment","_value":{"param":{"_type":"Parameter","_value":{"name":{"_type":"Identifier","_value":"descriptor"},"type":{"_type":"Type","_value":"String"},"default":{"_type":["Opt","Any"],"_value":null}}},"expr":{"_type":["Expr","String"],"_value":{"type":{"_type":"Type","_value":"String"},"source":{"_type":"String","_value":"data(\"Loop\", \"item\").stringAtXPathWithDefault(\"/wd:Reference_ID/wd:Reference_ID_Data/wd:Referenced_Object_Descriptor\", emptyString())"},"isAuto":{"_type":"Boolean","_value":false}}}}}]},"notes":{"_type":["List","Note"],"_value":[{"_type":"Note","_value":{"key":{"_type":"String","_value":"description"},"value":{"_type":"String","_value":""}}}]}}},{"_type":"Loop","_value":{"name":{"_type":"Identifier","_value":"Loop_1"},"isDisabled":{"_type":"Boolean","_value":false},"errorHandler":{"_type":["Opt","ErrorHandler"],"_value":null},"inputData":{"_type":["Expr",["Iterator",["Opt","Any"]]],"_value":{"type":{"_type":"Type","_value":["Iterator","String"]},"source":{"_type":"String","_value":"data(\"CreateControls\", \"instanceListQuery\").iterator()"},"isAuto":{"_type":"Boolean","_value":false}}},"filter":{"_type":["Opt",["Expr","Boolean"]],"_value":null},"aggregateNode":{"_type":["Opt","Aggregate"],"_value":{"_type":"Aggregate","_value":{"name":{"_type":"Identifier","_value":"AGGREGATE_1"},"isDisabled":{"_type":"Boolean","_value":false},"failOnEmptyStream":{"_type":"Boolean","_value":false},"foldValues":{"_type":["List","FoldValue"],"_value":[{"_type":"CountFoldValue","_value":{"nameProp":{"_type":"Identifier","_value":"matches"},"condition":{"_type":["Opt",["Expr","Boolean"]],"_value":{"_type":["Expr","Boolean"],"_value":{"type":{"_type":"Type","_value":"Boolean"},"source":{"_type":"String","_value":"data(\"ReferenceValues\",\"descriptor\").containsIgnoreCase(data(\"Loop_1\",\"item\"))"},"isAuto":{"_type":"Boolean","_value":false}}}}}}]},"notes":{"_type":["List","Note"],"_value":[{"_type":"Note","_value":{"key":{"_type":"String","_value":"description"},"value":{"_type":"String","_value":""}}}]}}}},"earlyStopCondition":{"_type":["Opt","EarlyStopCondition"],"_value":null},"sorts":{"_type":["List","SortedBy"],"_value":[]},"locale":{"_type":["Opt","Locale"],"_value":null},"group":{"_type":"ImplicitGroup","_value":{"name":{"_type":"Identifier","_value":"_group_Loop_1"},"isDisabled":{"_type":"Boolean","_value":false},"errorHandler":{"_type":["Opt","ErrorHandler"],"_value":null},"nodes":{"_type":["List","Node"],"_value":[]},"notes":{"_type":["List","Note"],"_value":[]}}},"notes":{"_type":["List","Note"],"_value":[{"_type":"Note","_value":{"key":{"_type":"String","_value":"description"},"value":{"_type":"String","_value":""}}}]}}},{"_type":"CreateJson","_value":{"name":{"_type":"Identifier","_value":"ReferenceJSON"},"isDisabled":{"_type":"Boolean","_value":false},"errorHandler":{"_type":["Opt","ErrorHandler"],"_value":null},"structure":{"_type":"JsonTemplateRef","_value":"LoopLoopfbd11da0-b63b-475a-b903-b1e39fe135ea"},"values":{"_type":["List","Mapping"],"_value":[{"_type":"Mapping","_value":{"path":{"_type":"JsonPath","_value":"$.id"},"expr":{"_type":["Expr","Text"],"_value":{"type":{"_type":"Type","_value":"Text"},"source":{"_type":"String","_value":"data(\"ReferenceValues\",\"id\")"},"isAuto":{"_type":"Boolean","_value":false}}}}},{"_type":"Mapping","_value":{"path":{"_type":"JsonPath","_value":"$.referenceID"},"expr":{"_type":["Expr","Text"],"_value":{"type":{"_type":"Type","_value":"Text"},"source":{"_type":"String","_value":"data(\"ReferenceValues\",\"referenceID\")"},"isAuto":{"_type":"Boolean","_value":false}}}}},{"_type":"Mapping","_value":{"path":{"_type":"JsonPath","_value":"$.descriptor"},"expr":{"_type":["Expr","Text"],"_value":{"type":{"_type":"Type","_value":"Text"},"source":{"_type":"String","_value":"data(\"ReferenceValues\",\"descriptor\")"},"isAuto":{"_type":"Boolean","_value":false}}}}}]},"notes":{"_type":["List","Note"],"_value":[{"_type":"Note","_value":{"key":{"_type":"String","_value":"description"},"value":{"_type":"String","_value":""}}}]}}}]},"notes":{"_type":["List","Note"],"_value":[]}}},"notes":{"_type":["List","Note"],"_value":[{"_type":"Note","_value":{"key":{"_type":"String","_value":"description"},"value":{"_type":"String","_value":""}}}]}}},{"_type":"CreateTextTemplate","_value":{"name":{"_type":"Identifier","_value":"CreateTextTemplate"},"isDisabled":{"_type":"Boolean","_value":false},"errorHandler":{"_type":["Opt","ErrorHandler"],"_value":null},"message":{"_type":"TextTemplate","_value":"{\r\n    \"data\": {{data.Loop.matches}}\r\n}"},"contentType":{"_type":"String","_value":"application/json"},"formatRef":{"_type":["Opt","TextFormatRef"],"_value":null},"notes":{"_type":["List","Note"],"_value":[{"_type":"Note","_value":{"key":{"_type":"String","_value":"description"},"value":{"_type":"String","_value":""}}}]}}}]},"notes":{"_type":["List","Note"],"_value":[]},"resources":{"_type":"ResourceProvider","_value":{"fileLikeResources":{"_type":["Map","Resource"],"_value":{"LoopLoopfbd11da0-b63b-475a-b903-b1e39fe135ea":{"_type":"InlineResource","_value":{"name":{"_type":"String","_value":"LoopLoopfbd11da0-b63b-475a-b903-b1e39fe135ea"},"content":{"_type":"String","_value":"{\"id\":\"@PLACEHOLDER@\",\"referenceID\":\"@PLACEHOLDER@\",\"descriptor\":\"@PLACEHOLDER@\"}"},"notes":{"_type":["List","Note"],"_value":[{"_type":"Note","_value":{"key":{"_type":"String","_value":"resource-type"},"value":{"_type":"String","_value":"SCHEMA"}}},{"_type":"Note","_value":{"key":{"_type":"String","_value":"resource-display-name"},"value":{"_type":"String","_value":"fbd11da0-b63b-475a-b903-b1e39fe135ea"}}}]}}}}},"credentials":{"_type":["Map","Credential"],"_value":{}},"xmlNamespaces":{"_type":["Map","String"],"_value":{}},"retryConfigs":{"_type":["Map",["WithNotes","RetryConfig"]],"_value":{"ConfigKey_1":{"_type":["WithNotes","RetryConfig"],"_value":{"value":{"_type":"RetryConfig","_value":{"name":{"_type":"String","_value":"RetryConfig_1"},"maxTotalRetries":{"_type":"Int","_value":2},"successResponseCodeRanges":{"_type":["List","ResponseCodeRange"],"_value":[]},"defaultBackOff":{"_type":"BackOff","_value":{"intervalMs":{"_type":"Long","_value":1000},"factor":{"_type":"Decimal","_value":1.0},"maxBackOffMs":{"_type":"Long","_value":300000}}},"retryPolicies":{"_type":["List","RetryPolicy"],"_value":[{"_type":"RetryPolicy","_value":{"nameProp":{"_type":"String","_value":"Default Policy 1"},"conditions":{"_type":["List","Condition"],"_value":[{"_type":"StatusCodeCondition","_value":{"codes":{"_type":["List","Int"],"_value":[{"_type":"Int","_value":408},{"_type":"Int","_value":409},{"_type":"Int","_value":423},{"_type":"Int","_value":425}]}}}]},"maxRetries":{"_type":["Opt","Int"],"_value":null},"backOffStrategy":{"_type":["Opt","BackOffStrategy"],"_value":null}}},{"_type":"RetryPolicy","_value":{"nameProp":{"_type":"String","_value":"Default Policy 2"},"conditions":{"_type":["List","Condition"],"_value":[{"_type":"StatusCodeCondition","_value":{"codes":{"_type":["List","Int"],"_value":[{"_type":"Int","_value":429},{"_type":"Int","_value":503}]}}},{"_type":"HeaderCondition","_value":{"header":{"_type":"String","_value":"Retry-After"}}}]},"maxRetries":{"_type":["Opt","Int"],"_value":null},"backOffStrategy":{"_type":["Opt","CustomBackOff"],"_value":{"_type":"CustomBackOff","_value":{"interval":{"_type":"RetryAfterHeaderInterval","_value":"RetryAfterHeaderInterval"},"maxBackOffMs":{"_type":"Long","_value":300000}}}}}},{"_type":"RetryPolicy","_value":{"nameProp":{"_type":"String","_value":"Default Policy 3"},"conditions":{"_type":["List","Condition"],"_value":[{"_type":"StatusCodeCondition","_value":{"codes":{"_type":["List","Int"],"_value":[{"_type":"Int","_value":429},{"_type":"Int","_value":503}]}}}]},"maxRetries":{"_type":["Opt","Int"],"_value":null},"backOffStrategy":{"_type":["Opt","BackOffStrategy"],"_value":null}}}]}}},"notes":{"_type":["List","Note"],"_value":[]}}}}},"csvFormats":{"_type":["Map","CsvFormat"],"_value":{}},"pollingConfigs":{"_type":["Map","PollingConfig"],"_value":{}}}},"defaultWorkdayCredentialRef":{"_type":["Opt","AccessTokenFromInitiatingUser"],"_value":{"_type":"AccessTokenFromInitiatingUser","_value":"AccessTokenFromInitiatingUser"}},"mayaVersion":{"_type":"String","_value":"1.3383.0"},"errorHandler":{"_type":["Opt","ErrorHandler"],"_value":null},"cancelBarrier":{"_type":["Opt","Identifier"],"_value":null},"defaultLocale":{"_type":"Locale","_value":{"value":{"_type":["Expr","String"],"_value":{"type":{"_type":"Type","_value":"String"},"source":{"_type":"String","_value":"\"\"\"en_US\"\"\""},"isAuto":{"_type":"Boolean","_value":false}}}}},"securityDomains":{"_type":["Opt",["List","String"]],"_value":null}}}